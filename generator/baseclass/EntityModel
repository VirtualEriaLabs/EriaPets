package com.virtualeria.eriapets.client.model;

import com.virtualeria.eriapets.entities.${EntityName}Entity;
import com.virtualeria.eriapets.utils.Constants;
import net.minecraft.util.Identifier;
import software.bernie.geckolib3.core.event.predicate.AnimationEvent;
import software.bernie.geckolib3.core.processor.IBone;
import software.bernie.geckolib3.model.AnimatedGeoModel;
import software.bernie.geckolib3.model.provider.data.EntityModelData;

public class ${EntityName}EntityModel extends AnimatedGeoModel<${EntityName}Entity> {

  @Override
  public Identifier getModelLocation(${EntityName}Entity ${EntityName,}Entity) {
    return new Identifier(Constants.ModID,
        String.format(Constants.geoDirectory, ${EntityName}Entity.petName));
  }

  @Override
  public Identifier getTextureLocation(${EntityName}Entity ${EntityName,}Entity) {
    return new Identifier(Constants.ModID,
        String.format(Constants.texturesDirectory, ${EntityName}Entity.petName));
  }

  @Override
  public Identifier getAnimationFileLocation(${EntityName}Entity ${EntityName,}Entity) {
    return new Identifier(Constants.ModID,
        String.format(Constants.animationsDirectory, ${EntityName}Entity.petName));
  }

  @SuppressWarnings({"rawtypes", "unchecked"})
  @Override
  public void setLivingAnimations(${EntityName}Entity ${EntityName,}Entity, Integer uniqueID,
                                  AnimationEvent customPredicate) {
    super.setLivingAnimations(${EntityName,}Entity, uniqueID, customPredicate);
    IBone head = this.getAnimationProcessor().getBone("Head");

    EntityModelData extraData =
        (EntityModelData) customPredicate.getExtraDataOfType(EntityModelData.class).get(0);
    head.setRotationX((extraData.headPitch) * ((float) Math.PI / 360F));
    head.setRotationY((extraData.netHeadYaw) * ((float) Math.PI / 360F));
  }
}
